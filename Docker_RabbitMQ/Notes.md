# Docker
## What is Docker?
Docker is an open source platform that automates the deployment, scaling, and management of applications using containerization. Containers are lightweight, portable, and self sufficient units that pack an application along with its dependencies, libraries, and configuration files, allowing it to run consistently across different computing environments.
## Key Features of Docker:
1. **Containerization**: Docker allows you to package applications and their dependencies into containers, ensuring consistency across different environments.
2. **Portability**: Containers can run on any system that supports Docker, making it easy to move applications between development, testing, and production environments.
3. **Isolation**: Each container runs in its own isolated environment, preventing conflicts between applications and improving security.
4. **Efficiency**: Containers share the host system's kernel, making them more lightweight and faster to start compared to traditional virtual machines.
5. **Version Control**: Docker images can be versioned, allowing you to track changes and roll back to previous versions if needed.
6. **Scalability**: Docker makes it easy to scale applications up or down by adding or removing containers as needed.
7. **Ecosystem**: Docker has a rich ecosystem of tools and services, including Docker Hub, a repository for sharing and distributing Docker images.
## Common Docker Commands
- `docker run`: Run a container from a Docker image.

 *docker run -d -p 8080:80 nginx* : Runs nginx with host port 8080 mapping to docker image port 80 in detached mode allowing the application to work behind (-d) (for testing nginx being active from browser type localhost:8080) or

 *docker run -it ubuntu bash*  : Run an interactive Ubuntu container with a bash shell.

- `docker build`: Build a Docker image from a Dockerfile.
- `docker ps`: List running containers. Use `docker ps -a` to list all containers, including stopped ones. -q option to list only container IDs.
- `docker images`: List available Docker images.
- `docker exec`: Execute a command in a running container.

 *docker exec -it < container_id > bash* : Access the bash shell of a running container interactively.

- `docker start`: Start a running container.
- `docker stop`: Stop a running container.
- `docker rm`: Remove a container.
- `docker rmi`: Remove a Docker image.
- `docker pull`: Download a Docker image from a registry.

 *docker pull redis* or *docker pull ubuntu*

- `docker push`: Upload a Docker image to a registry.
- `docker-compose`: A tool for defining and running multi-container Docker applications using a YAML file
- `docker logs`: View the logs of a container.

 *docker logs < container_id >* : Displays the logs for the specified container.
- `docker volume`: Manage Docker volumes for persistent data storage. A volume is a designated storage area that can be used by Docker containers to store and share data. Main use cases of volumes include persisting data generated by and used by Docker containers, sharing data between multiple containers, and decoupling storage from the container lifecycle.

 *docker volume create my_volume* : Creates a new Docker volume named "my_volume".

 `docker run --name some-mysql -v /my/own/datadir:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag` : Runs a MySQL container with a volume mounted from the host directory /my/own/datadir to the container's /var/lib/mysql directory, ensuring that the database data is persisted on the host system. -e option is used to set environment variables inside the container.

 - `docker cp`: Copy files/folders between a container and the local filesystem.

*docker cp <container_id>:/path/to/file /local/path* : Copies a file from the container to the local filesystem.

- `docker stats`: Display real-time statistics of running containers.

 *docker stats < container_id >* : Shows resource usage statistics for the specified container.

## Use Cases of Docker
- **Development Environment**: Docker allows developers to create consistent development environments that mirror production settings.
- **Microservices Architecture**: Docker is widely used to deploy microservices, allowing each service to run in its own container.
- **Continuous Integration/Continuous Deployment (CI/CD)**: Docker integrates well with CI/CD pipelines, enabling automated testing and deployment of applications.
- **Cloud Deployment**: Docker containers can be easily deployed to cloud platforms, facilitating scalable and efficient application hosting.

## Dockerfile Example
A Dockerfile is a text file that contains a series of instructions on how to build a Docker image. Here is a simple example of a Dockerfile that sets up a basic web server using Nginx:
```Dockerfile
# Use the official Nginx image as the base image
FROM nginx:latest
# Copy the custom HTML file to the Nginx web server directory
COPY index.html /usr/share/nginx/html/index.html
# Expose port 80 to allow access to the web server
EXPOSE 80
# Start Nginx when the container launches
CMD ["nginx", "-g", "daemon off;"]
```

In this example, the Dockerfile uses the official Nginx image as the base, copies a custom HTML file into the appropriate directory, exposes port 80, and specifies the command to run Nginx in the foreground when the container starts.